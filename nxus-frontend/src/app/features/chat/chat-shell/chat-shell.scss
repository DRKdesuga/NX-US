.chat-bg {
  width: 100vw;
  height: 100vh;
  background: radial-gradient(1400px 700px at 50% 20%, rgba(255,255,255,0.06), rgba(0,0,0,0)) #070a0f;
  color: #e8ecf1;
  position: relative;
  overflow: hidden;
}

.chat-bg::before,
.chat-bg::after {
  content: "";
  position: absolute;
  inset: -300px;
  pointer-events: none;
  z-index: 0;
}

.chat-bg::before {
  background-image:
    radial-gradient(6px 6px at 8% 18%, #fff, transparent),
    radial-gradient(7px 7px at 22% 32%, #fff, transparent),
    radial-gradient(6px 6px at 35% 72%, #fff, transparent),
    radial-gradient(6px 6px at 58% 12%, #fff, transparent),
    radial-gradient(7px 7px at 74% 44%, #fff, transparent),
    radial-gradient(6px 6px at 86% 68%, #fff, transparent),
    radial-gradient(6px 6px at 15% 82%, #fff, transparent),
    radial-gradient(7px 7px at 48% 56%, #fff, transparent),
    radial-gradient(6px 6px at 63% 84%, #fff, transparent),
    radial-gradient(7px 7px at 90% 26%, #fff, transparent);
  filter: drop-shadow(0 0 8px rgba(255,255,255,.35));
  opacity: .55;
  animation: star-parallax-1 50s linear infinite;
}

.chat-bg::after {
  background-image:
    radial-gradient(3px 3px at 12% 66%, #fff, transparent),
    radial-gradient(3px 3px at 28% 42%, #fff, transparent),
    radial-gradient(3px 3px at 40% 28%, #fff, transparent),
    radial-gradient(3px 3px at 54% 74%, #fff, transparent),
    radial-gradient(3px 3px at 68% 22%, #fff, transparent),
    radial-gradient(3px 3px at 82% 60%, #fff, transparent),
    radial-gradient(3px 3px at 94% 36%, #fff, transparent),
    radial-gradient(3px 3px at 26% 86%, #fff, transparent),
    radial-gradient(3px 3px at 70% 88%, #fff, transparent);
  filter: drop-shadow(0 0 3px rgba(255,255,255,.25));
  opacity: .35;
  animation: star-parallax-2 90s linear infinite;
}

@keyframes star-parallax-1 { from { transform: translateY(0) rotate(0deg); } to { transform: translateY(-700px) rotate(1deg); } }
@keyframes star-parallax-2 { from { transform: translateY(0) rotate(0deg); } to { transform: translateY(-1200px) rotate(-1deg); } }

.chat-container {
  position: relative;
  z-index: 1;
  max-width: 980px;
  height: 100%;
  margin: 0 auto;
  padding: 24px;
  display: grid;
  grid-template-rows: auto auto 1fr auto; /* header, now-playing, messages, composer */
  gap: 16px;
}

/* allow the scroll area to shrink inside CSS grid */
.chat-container > app-now-playing,
.chat-container > app-message-list,
.chat-container > app-message-input,
.chat-container > .composer {
  min-height: 0;
}

.chat-header { display: flex; align-items: center; gap: 12px; }
.brand { display: flex; align-items: center; gap: 10px; }
.brand .dot { width: 8px; height: 8px; border-radius: 999px; background: #0ecb81; box-shadow: 0 0 10px rgba(14,203,129,.7); }
.brand .title { font-weight: 800; letter-spacing: .6px; font-size: 18px; }
.ml-auto { margin-left: auto; }

.intro-overlay { display: none; } /* not used with composer-embedded intro */

.intro-title {
  margin: 0 0 10px 0;
  font-size: 44px;
  font-weight: 900;
  letter-spacing: .8px;
  text-align: center;
  line-height: 1.05;
}
.intro-title span {
  background: linear-gradient(90deg, #7bdcff, #a0ffdc);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 0 24px rgba(123,220,255,.25);
}
.intro-sub { margin-top: 8px; font-size: 14px; opacity: .8; text-align: center; }

.composer { width: 100%; }
.composer.intro {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: min(820px, 92vw);
  z-index: 2;
}
.chat-container:not(.intro) .composer {
  position: sticky;
  bottom: 0;
  z-index: 2;
  background: linear-gradient(180deg, rgba(7,10,15,0) 0%, rgba(7,10,15,0.6) 40%, rgba(7,10,15,1) 100%);
  padding-top: 6px;
}

.fade-in { animation: fade-in .18s ease both; }
@keyframes fade-in { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
